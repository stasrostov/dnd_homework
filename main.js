!function(){"use strict";class t{constructor(){this.#t()}#t(){const t=document.createElement("div");t.classList.add("container");const e=document.createElement("div");e.classList.add("column"),e.classList.add("toDo");const s=document.createElement("div");s.classList.add("column_header"),e.appendChild(s);const n=document.createElement("span");n.classList.add("column_title"),n.textContent="TODO",s.appendChild(n);const a=document.createElement("span");a.classList.add("column_settings"),a.textContent="...",s.appendChild(a);const d=document.createElement("div");d.classList.add("column_tasks"),e.appendChild(d);const c=document.createElement("div");c.classList.add("column_footer"),e.appendChild(c);const o=document.createElement("span");o.classList.add("column_footer-span"),o.textContent="+ Add another card",c.appendChild(o);const l=document.createElement("div");l.classList.add("column"),l.classList.add("inProgress");const i=document.createElement("div");i.classList.add("column_header"),l.appendChild(i);const r=document.createElement("span");r.classList.add("column_title"),r.textContent="IN PROGRESS",i.appendChild(r);const m=document.createElement("span");m.classList.add("column_settings"),m.textContent="...",i.appendChild(m);const h=document.createElement("div");h.classList.add("column_tasks"),l.appendChild(h);const u=document.createElement("div");u.classList.add("column_footer"),l.appendChild(u);const p=document.createElement("span");p.classList.add("column_footer-span"),p.textContent="+ Add another card",u.appendChild(p);const E=document.createElement("div");E.classList.add("column"),E.classList.add("done");const v=document.createElement("div");v.classList.add("column_header"),E.appendChild(v);const C=document.createElement("span");C.classList.add("column_title"),C.textContent="DONE",v.appendChild(C);const L=document.createElement("span");L.classList.add("column_settings"),L.textContent="...",v.appendChild(L);const g=document.createElement("div");g.classList.add("column_tasks"),E.appendChild(g);const f=document.createElement("div");f.classList.add("column_footer"),E.appendChild(f);const y=document.createElement("span");y.classList.add("column_footer-span"),y.textContent="+ Add another card",f.appendChild(y),t.appendChild(e),t.appendChild(l),t.appendChild(E),this._element=t}get element(){return this._element}}class e{constructor(t,e){this.#t(t,e)}#t(t,e){const s=document.createElement("div");s.classList.add("card"),s.textContent=t,s.setAttribute("id",e);const n=document.createElement("div");n.classList.add("card_deleteIcon"),s.appendChild(n),this._element=s}get element(){return this._element}}class s{constructor(){this.#t()}#t(){const t=document.createElement("div");t.classList.add("popover");const e=document.createElement("input");e.classList.add("titleInput"),e.setAttribute("type","text"),e.setAttribute("placeholder","Enter a title for this card...");const s=document.createElement("div");s.classList.add("iconsContainer");const n=document.createElement("button");n.classList.add("addBtn"),n.textContent="Add Card";const a=document.createElement("div");a.classList.add("closeIcon");const d=document.createElement("span");d.classList.add("popover_settings"),d.textContent="...",s.appendChild(n),s.appendChild(a),s.appendChild(d),t.appendChild(e),t.appendChild(s),this._element=t}get element(){return this._element}}new class{constructor(){this.storage=localStorage,this.cards={toDo:[],inProgress:[],done:[]},this.columns=Object.keys(this.cards),this.container=new t,document.body.appendChild(this.container.element),this.popover=new s,this.#e(),this.actualElement,this.shiftX,this.shiftY,this.#s(),this.#n()}#a(){this.storage.setItem("cards",JSON.stringify(this.cards))}#d(){return JSON.parse(this.storage.getItem("cards"))}#e(){if(this.#d()){this.cards=this.#d(),this.#c();for(let t in this.cards)this.cards[t].forEach((s=>{const n=new e(s.task,s.id).element;document.querySelector(`.${t}`).querySelector(".column_tasks").appendChild(n)}))}this.#o()}#c(){[...document.querySelectorAll(".column_tasks")].forEach((t=>t.innerHTML=""))}#l(t){const e=this.popover.element.querySelector(".titleInput").value,s=`${Math.floor(1e4*Math.random())}${Math.floor(1e4*Math.random())}${Math.floor(1e4*Math.random())}`;e&&""!==e&&(this.columns.forEach((n=>{t.classList.contains(n)&&this.cards[n].push({task:e,id:s})})),this.#a(),this.#e()),this.popover.element.querySelector(".titleInput").value=""}#n(){this.popover.element.addEventListener("click",(t=>{const e=t.target.closest(".column");t.target.classList.contains("closeIcon")&&(this.popover.element.previousElementSibling.style.removeProperty("opacity"),this.popover.element.remove()),t.target.classList.contains("addBtn")&&(this.#l(e),this.popover.element.previousElementSibling.style.removeProperty("opacity"),this.popover.element.remove())}))}#s(){const t=this.container.element.querySelectorAll(".column_footer-span");[...t].forEach((e=>{e.addEventListener("click",(s=>{[...t].forEach((t=>t.style.removeProperty("opacity"))),s.target.style.opacity="0",e.parentNode.appendChild(this.popover.element)}))}))}#i=t=>{this.actualElement.style.display="none";const e=document.elementFromPoint(t.clientX,t.clientY);if(this.actualElement.style.display="flex",e)if(e.classList.contains("card")&&!e.classList.contains("placeholder")){for(let t in this.cards)this.cards[t]=this.cards[t].filter((t=>t.id!==this.actualElement.id));const t=e.parentNode.parentNode.className.split(" ")[1],s=Array.from(e.parentNode.children);this.cards[t].splice(s.indexOf(e),0,{task:this.actualElement.textContent,id:this.actualElement.id})}else if(e.classList.contains("column_tasks")){for(let t in this.cards)this.cards[t]=this.cards[t].filter((t=>t.id!==this.actualElement.id));const t=e.parentNode.className.split(" ")[1];this.cards[t].push({task:this.actualElement.textContent,id:this.actualElement.id})}document.body.querySelector(".placeholder").remove(),this.actualElement.remove(),this.actualElement=void 0,this.#a(),this.#e(),document.documentElement.removeEventListener("mouseup",this.#i),document.documentElement.removeEventListener("mousemove",this.#r),document.body.style.cursor="default"};#r=t=>{this.actualElement.style.left=t.pageX-this.shiftX+"px",this.actualElement.style.top=t.pageY-this.shiftY+"px"};#o(){[...document.querySelectorAll(".card")].forEach((t=>{t.addEventListener("click",(t=>{if(t.target.classList.contains("card_deleteIcon")){const e=t.target.parentNode;for(let t in this.cards)this.cards[t]=this.cards[t].filter((t=>t.id!==e.id));this.#a(),this.#e()}}))})),[...document.querySelectorAll(".column_tasks")].forEach((t=>{t.addEventListener("mousedown",(t=>{if(t.preventDefault(),t.target.classList.contains("card")&&t.target.parentNode.classList.contains("column_tasks")){this.actualElement=t.target;const e=document.createElement("div");e.classList.add("placeholder"),e.textContent=this.actualElement.textContent,this.actualElement.parentNode.insertBefore(e,this.actualElement.nextSibling),this.shiftX=t.pageX-this.actualElement.getBoundingClientRect().left,this.shiftY=t.pageY-this.actualElement.getBoundingClientRect().top,document.body.appendChild(this.actualElement),this.actualElement.classList.add("dragged"),this.actualElement.style.left=t.pageX-this.shiftX+"px",this.actualElement.style.top=t.pageY-this.shiftY+"px",document.body.style.cursor="grabbing",document.documentElement.addEventListener("mouseup",this.#i),document.documentElement.addEventListener("mousemove",this.#r)}}))}))}}}();
//# sourceMappingURL=main.js.map